[{"title":"æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢","url":"/2025/09/06/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/","content":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼\nä¸€ä¸‹æ˜¯å¼€å¯æˆ‘åšå®¢çš„å¼€å§‹ä¹‹è·¯\nä¸€ã€åˆ›å»ºäº Hexo + GitHub Pages çš„æ­å»ºä¸ªäººåšå®¢ç½‘ç«™çš„è¯¦ç»†æ•™ç¨‹\näºŒã€æ›´æ–°åšå®¢çš„æºç ï¼ˆMarkdownæ–‡ç« ã€ä¸»é¢˜ã€é…ç½®ç­‰ï¼‰é€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªGitHubä»“åº“ä¸­ï¼Œè€Œé€šè¿‡Hexoç”Ÿæˆçš„é™æ€ç½‘ç«™æ–‡ä»¶åˆ™éƒ¨ç½²åˆ°GitHub Pagesï¼ˆé€šå¸¸æ˜¯ username.github.io ä»“åº“çš„ç‰¹å®šåˆ†æ”¯ï¼Œå¦‚ gh-pages æˆ– mainï¼‰ã€‚\n\nğŸ“ æ‰‹åŠ¨æ›´æ–°å‘å¸ƒæµç¨‹ï¼ˆæœ¬åœ°å®Œæˆï¼‰è¿™ç§æ–¹å¼éœ€è¦åœ¨è®¡ç®—æœºä¸Šé…ç½®å¥½Hexoç¯å¢ƒï¼ˆNode.js, Git, Hexoç­‰ï¼‰ã€‚\n\næ–°å»ºåšæ–‡ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»ºæ–°çš„Markdownæ–‡ä»¶ã€‚\nhexo new &quot;æ–‡ç« é¢˜ç›®&quot;  # æˆ– hexo n &quot;æ–‡ç« é¢˜ç›®&quot;\n\n\n\nè¿™ä¼šåœ¨ source/_posts ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª æ–‡ç« é¢˜ç›®.md æ–‡ä»¶ã€‚\n\nç¼–å†™&#x2F;æ›´æ–°å†…å®¹ï¼šç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚VS Codeï¼‰ç¼–è¾‘ç”Ÿæˆçš„Markdownæ–‡ä»¶ã€‚\n\nç”Ÿæˆé™æ€æ–‡ä»¶ï¼šåœ¨Hexoç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œå°†Markdownè½¬æ¢ä¸ºHTMLç­‰é™æ€èµ„æºã€‚\nhexo generate  # æˆ– hexo g\n\n\n\nå¦‚æœéœ€è¦å…ˆæ¸…é™¤ç¼“å­˜å’Œæ—§æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\nhexo clean &amp;&amp; hexo generate```:cite[1]\n\n\n\næœ¬åœ°é¢„è§ˆï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼šåœ¨éƒ¨ç½²å‰ï¼Œæœ€å¥½å…ˆåœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨æ£€æŸ¥æ•ˆæœã€‚\nhexo server  # æˆ– hexo s \n\n\n\nç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:4000 æŸ¥çœ‹ã€‚\n\néƒ¨ç½²åˆ°GitHub Pagesï¼šå°†ç”Ÿæˆå¥½çš„é™æ€æ–‡ä»¶ï¼ˆé€šå¸¸åœ¨ public ç›®å½•ï¼‰æ¨é€è‡³GitHubä»“åº“çš„ç‰¹å®šåˆ†æ”¯ã€‚\nhexo deploy  # æˆ– hexo d\n\n\n\nå¸¸ç”¨çš„ä¾¿æ·ç»„åˆå‘½ä»¤æ˜¯ï¼š\nhexo clean &amp;&amp; hexo g &amp;&amp; hexo dä¸ºäº†èƒ½ä½¿ç”¨ `hexo deploy` å‘½ä»¤ï¼Œæ‚¨éœ€è¦ï¼šåœ¨Hexoçš„**ç«™ç‚¹é…ç½®æ–‡ä»¶** (`_config.yml`) ä¸­æ­£ç¡®è®¾ç½®éƒ¨ç½²ä¿¡æ¯:    deploy:      type: git      repo: &lt;æ‚¨çš„GitHubä»“åº“SSHæˆ–HTTPSåœ°å€&gt;  # ä¾‹å¦‚ git@github.com:username/username.github.io.git      branch: &lt;éƒ¨ç½²åˆ†æ”¯ï¼Œå¦‚gh-pagesæˆ–main&gt; \n\n\nç¡®ä¿å·²å®‰è£… hexo-deployer-git æ’ä»¶:cite[4]:cite[6]ï¼šnpm install hexo-deployer-git --save\n\n\næ¨é€æºç ï¼ˆé‡è¦ï¼‰ï¼šhexo deploy é€šå¸¸åªéƒ¨ç½²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ã€‚åˆ«å¿˜äº†å°†æ‚¨çš„åšå®¢æºç ï¼ˆMarkdownæ–‡ç« ã€ä¸»é¢˜ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰ä¹Ÿæ¨é€åˆ°GitHubä»“åº“çš„å¦ä¸€ä¸ªåˆ†æ”¯ï¼ˆä¾‹å¦‚ source æˆ– hexo-sourceï¼‰ï¼Œä»¥ä¾¿å¤‡ä»½å’Œåœ¨å¤šè®¾å¤‡é—´åŒæ­¥ã€‚\n\n\nä¸‰ã€next å®¢åˆ¶åŒ–é¡µé¢3.1 å­—ä½“è®¾ç½®\nfont:  #enable: false  enable: true  # Uri of fonts host, e.g. https://fonts.googleapis.com (Default).  host:  # Font options:  # `external: true` will load this font family from `host` above.  # `family: Times New Roman`. Without any quotes.  # `size: x.x`. Use `em` as unit. Default: 1 (16px)  # Global font settings used for all elements inside &lt;body&gt;.  global:    external: true    family: sans-serif    size: 0.725em  # Font settings for site title (.site-title).  title:    external: true    family:    size:  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).  headings:    external: true    family:    size:  # Font settings for posts (.post-body).  posts:    external: true    family:  # Font settings for &lt;code&gt; and code blocks.  #Roboto  codes:    external: true    family: Fira Code      size: .6em\n\n\n\n3.2 é¡µé¢å­—ä½“è®¾ç½®\ncat  themes/next/source/css/_variables/base.styl$font-size-base           = (hexo-config(&#x27;font.enable&#x27;) and hexo-config(&#x27;font.global.size&#x27;) is a &#x27;unit&#x27;) ? unit(hexo-config(&#x27;font.global.size&#x27;), em) : .8125em;//$font-size-base           = .8125em; #ç»Ÿä¸€æ›´æ”¹è¿™ä¸ªå¤§å°\n\n3.3 ç”Ÿæ•ˆå¹¶éƒ¨ç½²\nhexo clean &amp;&amp; hexo g &amp;&amp; hexo d #æ¸…é™¤ç¼“å­˜ä¸”æµè§ˆå™¨ä¹Ÿéœ€æ— ç—•\n\n\n\n"},{"title":"shellä¹‹è·å–dockerå®¹å™¨ä¸­çš„cpuä¸å†…å­˜ä½¿ç”¨ç‡","url":"/2025/09/06/shell%E4%B9%8B%E8%8E%B7%E5%8F%96docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84cpu%E4%B8%8E%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E7%8E%87/","content":"èƒŒæ™¯ï¼šè¯¥é¡¹ç›®è¿ç§»è‡³æ–°ç¯å¢ƒéœ€æ±‚ï¼Œå°†åŸå…ˆTSFé›†ç¾¤ï¼ˆèŠ‚ç‚¹æ•°ï¼šxxxï¼‰è¿ç§»åˆ°æ–°ç¯å¢ƒä¸­ï¼Œjmeter å‹æµ‹ä¸€ä¸ªæŸ¥è¯¢æ¥å£çš„æ•°æ®ã€‚åˆ†åˆ«åœ¨æ—§ç¯å¢ƒä¸æ–°ç¯å¢ƒçš„æ¥å£æ•°æ®è¿›è¡Œå‹æµ‹ï¼Œå¯¹æ¯”ç›‘æ§CPUã€å†…å­˜åˆ©ç”¨ç‡æƒ…å†µã€‚ç›®å‰æ—§ç¯å¢ƒå®¹å™¨æ— ç›‘æ§ï¼Œæ•…æ€è·¯ä¸Šä½¿ç”¨è„šæœ¬æ¥è·å–ç›‘æ§æ•°æ®ï¼Œè·å–çš„æ•°æ®ç”¨å›¾æ ‡å±•ç¤ºå‡ºæ¥\né—®é¢˜:ä¸ºä»€ä¹ˆä¸è¿›å…¥å®¹å™¨ä¸­æŸ¥çœ‹ï¼ŒtopæŸ¥çœ‹å®¹å™¨çš„èµ„æºä½¿ç”¨é‡ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å®¹å™¨ä¸­è¿è¡Œ top å‘½ä»¤ï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ°å®¹å™¨ä¸­æ¯ä¸ªè¿›ç¨‹çš„ CPU ä½¿ç”¨ç‡ï¼Œä½†æ˜¯ top ä¸­â€%Cpu(s)â€é‚£ä¸€è¡Œä¸­æ˜¾ç¤ºçš„æ•°å€¼ï¼Œå¹¶ä¸æ˜¯è¿™ä¸ªå®¹å™¨çš„ CPU æ•´ä½“ä½¿ç”¨ç‡ï¼Œè€Œæ˜¯å®¹å™¨å®¿ä¸»æœºçš„ CPU ä½¿ç”¨ç‡ã€‚\n#!/bin/bashHOST_NAME=$(hostname -I | awk &#x27;&#123;print $2&#125;&#x27;)LOG_FILE=&quot;/var/log/docker_stats_20250719_$HOST_NAME.log&quot;DOCKER_NAME=$(docker ps |grep  &quot;tsf_1/element-server&quot; |awk &#x27;&#123;print $1&#125;&#x27;)INTERVAL=5 # æ”¶é›†é—´éš”ï¼ˆç§’ï¼‰# åˆ›å»ºæ—¥å¿—æ–‡ä»¶å¹¶æ·»åŠ è¡¨å¤´echo &quot;æ—¶é—´æˆ³,å®¹å™¨ID,CPUä½¿ç”¨ç‡%,å†…å­˜ä½¿ç”¨ç‡%&quot; &gt; &quot;$LOG_FILE&quot;while true; do    # è·å–å½“å‰æ—¶é—´æˆ³    TIMESTAMP=$(date &#x27;+%H:%M:%S&#x27;)    # ä½¿ç”¨ top æ”¶é›† CPU ä½¿ç”¨ç‡ï¼ˆæå– %Cpu(s): åçš„æ•°å€¼ï¼‰    CPU_MEM_USAGE=$(docker stats $DOCKER_NAME --no-stream --format &quot;&#123;&#123;.Container&#125;&#125;,\\t&#123;&#123;.CPUPerc&#125;&#125;,\\t\\t&#123;&#123;.MemPerc&#125;&#125;&quot;)    echo $CPU_MEM_USAGE    #top -bn1 | grep &#x27;%Cpu&#x27; | awk &#x27;&#123;print &quot;CPUä½¿ç”¨ç‡: &quot; 100 - $8 &quot;%&quot;&#125;&#x27;    echo &quot;$TIMESTAMPï¼Œ $CPU_MEM_USAGE &quot;  &gt;&gt; &quot;$LOG_FILE&quot;    # ç­‰å¾…ä¸‹ä¸€æ¬¡æ”¶é›†    sleep $INTERVALdone\n\næœ€ååˆ¶ä½œå‡ºæ¥çš„å›¾æ ‡å¦‚ä¸‹ï¼š\n\nå…³äºå¾—åˆ°çš„æ•°æ®çš„ç–‘é—®çš„è®°å½•\nä»å›¾æ ‡ä¸Šå¯ä»¥å¾—å‡ºæœ‰çš„CPUè¶…100%äº†ï¼ŒåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ­£å¸¸æ¥çœ‹è¿™ä¸ªCPUåº”è¯¥æ˜¯å¤šå°‘çš„\n\nç»å¯¹èµ„æºæ¶ˆè€—é‡\n\n307% = 3.07 ä¸ªé€»è¾‘ CPU æ ¸å¿ƒæ»¡è½½#è¡¨ç¤ºå®¹å™¨å½“å‰æ¯ç§’æ¶ˆè€— 3.07 æ ¸å¿ƒç§’çš„è®¡ç®—èµ„#ç›¸å½“äºï¼š 3 ä¸ªæ ¸å¿ƒ 100% æ»¡è½½ + ç¬¬ 4 ä¸ªæ ¸å¿ƒ 7% è´Ÿè½½ æˆ– 4 ä¸ªæ ¸å¿ƒå¹³å‡ 76.75% è´Ÿè½½\n\n\ndocker stats ä¸­æŸ¥çœ‹ ä»¥ä¸‹å‚æ•° docker æœ‰å…³cpué…ç½®çš„åŒºåˆ«ï¼š\n\n[root@x.x.x.x ~]# docker inspect 1f77b1a2b98e |grep -i cpu            &quot;CpuShares&quot;: 4096, #cpu requestçš„å€¼            &quot;NanoCpus&quot;: 0,            &quot;CpuPeriod&quot;: 100000,            &quot;CpuQuota&quot;: 400000, #cpu limitçš„å€¼            &quot;CpuRealtimePeriod&quot;: 0,            &quot;CpuRealtimeRuntime&quot;: 0,            &quot;CpusetCpus&quot;: &quot;9-12&quot;, #è¿è¡Œåœ¨å“ªä¸ªcpuä¸Š            &quot;CpusetMems&quot;: &quot;&quot;,            &quot;CpuCount&quot;: 0,            &quot;CpuPercent&quot;: 0,\n\n"},{"title":"è®°ä¸€æ¬¡ç½‘å¡ä¿®æ”¹åŠnmcli ä½¿ç”¨","url":"/2025/09/06/%E8%AE%B0%E4%B8%80%E6%AC%A1%E7%BD%91%E5%8D%A1%E4%BF%AE%E6%94%B9%E5%8F%8Anmcli-%E4%BD%BF%E7%94%A8/","content":"å› éœ€è¦ä¿®æ”¹ç³»ç»Ÿå‚æ•°ç½‘å¡é˜Ÿåˆ—ï¼Œéœ€è¦å°†å…¶æœºå™¨éœ€è¦é‡å¯ã€‚ç›®å‰å‘ç°é›†ç¾¤ä¸€å…±100å¤šå°æœºå™¨ï¼Œé‡å¯å…¶ä¸­ä¸€å°masteræœºå™¨åï¼Œä¸€ç›´å¤„äºnotReadyçŠ¶æ€ã€‚åŸå› æ˜¯å› ä¸ºæ”¹æœºå™¨ä¸ºåŒç½‘å¡ï¼Œä½†æ˜¯å› ä¸ºç½‘å¡åæœªå›ºå®šã€‚é€ æˆä½¿ç”¨ä¸ºå›ºå®šçš„ç½‘å¡æœªå¯åŠ¨æˆåŠŸã€‚\nè§£å†³æ€è·¯ï¼š\n1. æŸ¥è¯¢100å¤šå°æœºå™¨ï¼Œ/etc/udev/rules.d/70-persistent-net.rules  æ–‡ä»¶æ˜¯å¦éƒ½å«2æ¡è®°å½•2.é’ˆå¯¹æœªå«çš„èŠ‚ç‚¹æ“ä½œï¼Œæ·»åŠ è¯¥æ¡ä¿¡æ¯ï¼Œç½‘å¡åä¸å¯ä¿®æ”¹ï¼Œè¦ä¸åŸå…ˆé‡å¯å‰ä¸€è‡´ã€‚æ·»åŠ åå¦‚ä¸‹ï¼šSUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;fa:16:3e:98:70:9c&quot;, NAME=&quot;ens3&quot;SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;fa:16:3e:f5:e0:f1&quot;, NAME=&quot;ens10&quot; #æ›´æ–°çš„ç›®æ ‡ç½‘å¡å\n\næ‹“å±•ï¼šå› åŠ çš„ç½‘å¡åå˜æ›´ä¸ºens4ï¼Œé€ æˆç½‘å¡ä¸€ç›´upä¸èµ·æ¥ã€‚\n[root@tcs-10-25-83-48 network-scripts]# nmcli  device conn ens4é”™è¯¯ï¼šæ·»åŠ /æ¿€æ´»æ–°è¿æ¥å¤±è´¥ï¼šConnection &#x27;ens4&#x27; is not available on device ens4 because device is strictly unmanaged\nnmcliå¤„ç†è¿‡ç¨‹ï¼š\nnmcli conn show  #æŸ¥çœ‹è®¾å¤‡è¿æ¥æƒ…å†µnmcli conn show &quot;System ens4&quot; #æŸ¥çœ‹ç½‘å¡è®¾ç½®çš„è¯¦æƒ…nmcli conn reload #é‡å¯è®¾å¤‡nmcli conn up ens4 #è¿æ¥ens4è®¾ç½®nmcli device set &lt;ç½‘å¡åç§°&gt; managed yes #æ¿€æ´»ç½‘å¡nmcli device #æŸ¥çœ‹æ‰€æœ‰çš„è®¾å¤‡nmcli device conn #å°†æ‰€æœ‰è®¾å¤‡connnmcli device conn ens4 #ç½‘å¡è¿æ¥nmcli  networking #æŸ¥çœ‹ç½‘ç»œæ˜¯ç”±è®¾ç½®\n\nåŸå› ï¼š\n[root@X-x.1-x.1-x.1-x.1 network-scripts]# cd /etc/NetworkManager/conf.d/[root@X-x.1-x.1-x.1-x.1 conf.d]# ls99-cloud-init.conf  99-container.conf[root@X-x.1-x.1-x.1-x.1 conf.d]# cat 99-cloud-init.conf # Created by cloud-init on instance boot automatically, do not edit.#[main]dns = none[root@X-x.1-x.1-x.1-x.1 conf.d]# cat 99-container.conf# avoid making container interface down[keyfile]unmanaged-devices=*,except:interface-name:ens10,except:interface-name:ens3 #99-container.confï¼Œå› å®¹å™¨å¹³å°éƒ¨ç½²å®Œåï¼Œç½‘å¡åè¢«è·å–åˆ°äº†å¹¶å†™å…¥åˆ°ç±»ä¼¼æ–‡ä»¶ä¸­ï¼Œæ•…ä¸å»ºè®®ä¿®æ”¹ç½‘å¡åç§°(å³NAME=&quot;ens10&quot;)\n"}]