[{"title":"ESåŸºæœ¬ä½¿ç”¨åŠé—®é¢˜å¤„ç†01","url":"/2025/09/08/ES%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%8F%8A%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%8601/","content":"ä¸šåŠ¡è¿›è¡Œå‹æµ‹ï¼Œåé¢é€ æˆESæ•°æ®æ»¡äº†ï¼Œæœ‰90%å‘Šè­¦ã€‚é’ˆå¯¹è¯¥æƒ…å†µéœ€è¦æ¸…ç†ESï¼Œæ•°æ®å¯ä»¥æ­£å¸¸å†™å…¥ã€‚\næ¸…ç†æ•°æ®curl 10.25.83.242:9200/_cluster/health?pretty #æŸ¥çœ‹ç›‘æ§curl 10.25.83.242:9200/_cat/indices?v |grep gb #æŸ¥çœ‹æ•°æ®curl -XDELETE 10.25.83.242:9200/xxxxx #åˆ é™¤æ•°æ®\n\nä½†æ˜¯å‘ç°æ¸…ç†æ•°æ®å®Œå€™ï¼ŒESåªè¯»ï¼Œæ•°æ®å†™ä¸è¿›æ•°æ®\nåŸå› åˆ†æåªè¯»æ ‡è®°æœªæ‰‹åŠ¨æ¸…é™¤ï¼šè¿™æ˜¯æœ€å¸¸è§çš„åŸå› ã€‚Elasticsearch ä¸ä¼šè‡ªåŠ¨å°†ç´¢å¼•çš„ read_only_allow_delete å±æ€§æ”¹å› false\nç£ç›˜ç©ºé—´æœªçœŸæ­£æœ‰æ•ˆé‡Šæ”¾ï¼š\n\nå»¶è¿Ÿé‡Šæ”¾ï¼šä½¿ç”¨ DELETE æ“ä½œæˆ– _delete_by_query è¿›è¡Œæ•°æ®åˆ é™¤æ—¶ï¼ŒElasticsearch é‡‡ç”¨çš„æ˜¯â€œæ ‡è®°åˆ é™¤â€è€Œéç«‹å³ä»ç£ç›˜æ“¦é™¤ã€‚çœŸæ­£çš„ç©ºé—´é‡Šæ”¾éœ€è¦ç­‰å¾… Segment Merge è¿‡ç¨‹å®Œæˆã€‚\n\næ¸…ç†é‡ä¸è¶³ï¼šå¯èƒ½åˆ é™¤çš„æ•°æ®é‡ä¸è¶³ä»¥è®©æ‰€æœ‰ç£ç›˜çš„ä½¿ç”¨ç‡éƒ½é™åˆ°æ°´ä½çº¿ï¼ˆç‰¹åˆ«æ˜¯ flood_stage, ä¾‹å¦‚95%ï¼‰ä»¥ä¸‹ã€‚Elasticsearch ä¼šæ£€æŸ¥æ‰€æœ‰èŠ‚ç‚¹ç£ç›˜ç©ºé—´ã€‚\n\n\næ°´ä½çº¿æ£€æŸ¥æœ‰å»¶è¿Ÿæˆ–ç¼“å­˜ï¼šElasticsearch æ£€æµ‹ç£ç›˜ç©ºé—´å’Œä½¿ç”¨ç‡å˜åŒ–å¯èƒ½å­˜åœ¨çŸ­æš‚å»¶è¿Ÿã€‚\nåˆ†ç‰‡åˆ†é…é—®é¢˜ï¼šå³ä½¿ç©ºé—´è¶³å¤Ÿï¼Œå¦‚æœä¹‹å‰å› ç£ç›˜ç©ºé—´ä¸è¶³å¯¼è‡´åˆ†ç‰‡æœªåˆ†é…ï¼Œç©ºé—´é‡Šæ”¾åå¯èƒ½éœ€è¦æ‰‹åŠ¨æ¢å¤åˆ†ç‰‡åˆ†é…æˆ–ç­‰å¾…é›†ç¾¤è‡ªåŠ¨é‡æ–°å¹³è¡¡ã€‚\nğŸ“– æ€»ç»“ï¼šé—®é¢˜è§£å†³æ­¥éª¤\n\n\næ­¥éª¤\næ“ä½œ\nå‘½ä»¤&#x2F;æ“ä½œç¤ºä¾‹\nè¯´æ˜\n\n\n\n1ï¸âƒ£\nç¡®è®¤ç£ç›˜ç©ºé—´\nGET /_cat/allocation?v\næŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹çš„ç£ç›˜ä½¿ç”¨ç‡ï¼Œç¡®ä¿å‡ä½äºæ´ªæ°´æ°´ä½çº¿ï¼ˆå¦‚95%ï¼‰\n\n\n2ï¸âƒ£\næ£€æŸ¥ç´¢å¼•è®¾ç½®\nGET your_index_name/_settings\nç¡®è®¤ index.blocks.read_only_allow_delete æ˜¯å¦ä¸º true\n\n\n3ï¸âƒ£\næ‰‹åŠ¨è§£é™¤åªè¯»\ncurl  -H â€œContent-Type:application&#x2F;jsonâ€ -XPUT 10.25.83.242:9200&#x2F;_cluster&#x2F;settings -d â€˜{   â€œpersistentâ€: {     â€œcluster.blocks.read_only_allow_deleteâ€: false   } }â€™\næ ¸å¿ƒæ­¥éª¤ï¼šæ‰‹åŠ¨æ¸…é™¤ç´¢å¼•çš„åªè¯»æ ‡è®°\n\n\n4ï¸âƒ£\nxxx\ncurl -H â€œContent-Type: application&#x2F;jsonâ€  -XPUT â€˜10.25.83.242:9200&#x2F;_all&#x2F;_settingsâ€™ -d â€˜{â€œindexâ€:{â€œblocksâ€:{â€œread_only_allow_deleteâ€:null}}}â€™\n\n\n\n5ï¸âƒ£\néªŒè¯å†™å…¥\nPOST your_index_name/_doc &#123; &quot;test&quot;: &quot;data&quot; &#125;\nå°è¯•å†™å…¥ä¸€æ¡æµ‹è¯•æ•°æ®ï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸ\n\n\n","categories":["ä¸­é—´ä»¶"],"tags":["ES"]},{"title":"Chronyd å®‰è£…ä¸é…ç½®æ’é”™æŒ‡å—","url":"/2025/09/07/Chronyd-%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%8E%92%E9%94%99%E6%8C%87%E5%8D%97/","content":"Chronyd å®‰è£…ä¸é…ç½®æ’é”™æŒ‡å—ç›®å½•\nChronyd å®‰è£…ä¸é…ç½®\nç«¯å£æ£€æŸ¥ä¸é˜²ç«å¢™é…ç½®\næ—¶é—´åŒæ­¥çŠ¶æ€è¯Šæ–­\nç¡¬ä»¶æ—¶é’Ÿé—®é¢˜è§£å†³æ–¹æ¡ˆ\næ—¶åŒºé…ç½®\n\n\n1. Chronyd å®‰è£…ä¸é…ç½®å®‰è£… Chronydyum install chronyd -y\n\næ£€æŸ¥æ—¶é—´åŒæ­¥æºchronyc sources -v\n\néªŒè¯ Chronyd æœåŠ¡çŠ¶æ€netstat -nlap | grep 123  # æŸ¥çœ‹ UDP ç«¯å£ï¼Œç¡®è®¤ chronyd å·²å¯åŠ¨\n\n\n2. ç«¯å£æ£€æŸ¥ä¸é˜²ç«å¢™é…ç½®æ£€æŸ¥ UDP ç«¯å£è¿é€šæ€§# æ–¹æ¡ˆ1ï¼šä½¿ç”¨ nmapnmap -sU 192.168.70.2 -p 123 -Pn# æ–¹æ¡ˆ2ï¼šä½¿ç”¨ netcatnc -uvz 192.168.70.2 123\n\nç«¯å£çŠ¶æ€è¯´æ˜\næ­£å¸¸çŠ¶æ€: 123/udp open ntp\nå¼‚å¸¸çŠ¶æ€: 123/udp open|filtered ntp (è¡¨ç¤ºç«¯å£ä¸å¯ç”¨)\n\né…ç½®é˜²ç«å¢™è§„åˆ™ (UFW ç¤ºä¾‹)# æŸ¥çœ‹å½“å‰é˜²ç«å¢™è§„åˆ™ufw status# å¼€æ”¾ NTP æœåŠ¡æ‰€éœ€ç«¯å£ufw allow 123/udpufw allow 323/udp\n\n\n3. æ—¶é—´åŒæ­¥çŠ¶æ€è¯Šæ–­å¼‚å¸¸çŠ¶æ€ç¤ºä¾‹# æ£€æŸ¥ chrony æœåŠ¡çŠ¶æ€chronyc sources# å¼‚å¸¸è¾“å‡ºç¤ºä¾‹ï¼š210 Number of sources = 1MS Name/IP address         Stratum Poll Reach LastRx Last sample===============================================================================^? 192.168.70.2                  0   9     0     -     +0ns[   +0ns] +/-    0ns\n\næ­£å¸¸çŠ¶æ€ç¤ºä¾‹# æ­£å¸¸è¾“å‡ºç¤ºä¾‹ï¼š210 Number of sources = 1MS Name/IP address         Stratum Poll Reach LastRx Last sample===============================================================================^* 192.168.70.2                 10   6    17     1    -12us[+23us] +/- 276us\n\n\n4. ç¡¬ä»¶æ—¶é’Ÿé—®é¢˜è§£å†³æ–¹æ¡ˆæ£€æŸ¥å½“å‰æ—¶é—´çŠ¶æ€date                    # æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´hwclock --show          # æŸ¥çœ‹ç¡¬ä»¶æ—¶é’Ÿæ—¶é—´\n\nç¡¬ä»¶æ—¶é’ŸåŒæ­¥æ“ä½œ# æ‰‹åŠ¨è®¾ç½®ç¡¬ä»¶æ—¶é’Ÿæ—¶é—´hwclock --set --date &#x27;2018-08-20 14:05:25&#x27;# åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿä¸ç³»ç»Ÿæ—¶é—´hwclock --hctosys       # ç¡¬ä»¶æ—¶é—´åŒæ­¥åˆ°ç³»ç»Ÿæ—¶é—´hwclock --systohc       # ç³»ç»Ÿæ—¶é—´åŒæ­¥åˆ°ç¡¬ä»¶æ—¶é—´# ä¿å­˜æ—¶é’Ÿè®¾ç½®clock -w\n\né«˜çº§æ—¶é—´ç®¡ç†# æŸ¥çœ‹æ—¶é—´åŒæ­¥æºçŠ¶æ€chronyc sourcestats -v# ç«‹å³æ‰‹åŠ¨åŒæ­¥æ—¶é—´ï¼ˆé€‚ç”¨äºæ—¶é—´åå·®è¾ƒå¤§æ—¶ï¼‰chronyc -a makestep# æ ¡å‡†æ—¶é—´æœåŠ¡å™¨chronyc tracking\n\nç¡¬ä»¶æ—¶é’Ÿé…ç½®# æ£€æŸ¥ç¡¬ä»¶æ—¶é’Ÿé…ç½®timedatectl | grep local# é…ç½®ç¡¬ä»¶æ—¶é’Ÿä½¿ç”¨æœ¬åœ°æ—¶åŒºtimedatectl set-local-rtc 1# é…ç½®ç¡¬ä»¶æ—¶é’Ÿä½¿ç”¨ UTCï¼ˆæ¨èï¼‰timedatectl set-local-rtc 0# å¯ç”¨ NTP æ—¶é—´åŒæ­¥timedatectl set-ntp yes\n\n\n5. æ—¶åŒºé…ç½®æ›´æ”¹æ—¶åŒºï¼ˆä¾‹å¦‚ä» EST æ”¹ä¸º CSTï¼‰# å¤‡ä»½åŸæ—¶åŒºé…ç½®mv /etc/localtime /etc/localtime.bak# è®¾ç½®ä¸Šæµ·æ—¶åŒºï¼ˆä¸­å›½æ ‡å‡†æ—¶é—´ CSTï¼‰ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\n\næ•…éšœæ’é™¤æµç¨‹å›¾\næ—¶é—´ä¸åŒæ­¥\næ£€æŸ¥ chronyc sources è¾“å‡º\néªŒè¯ NTP ç«¯å£è¿é€šæ€§\nç¡®è®¤é˜²ç«å¢™é…ç½®\n\n\nç¡¬ä»¶æ—¶é’Ÿä¸ç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´\nä½¿ç”¨ hwclock --hctosys æˆ– hwclock --systohc åŒæ­¥\næ£€æŸ¥æ—¶åŒºè®¾ç½®æ˜¯å¦æ­£ç¡®\n\n\næ—¶åŒºé”™è¯¯\nä½¿ç”¨ timedatectl æ£€æŸ¥å½“å‰æ—¶åŒº\né‡æ–°é“¾æ¥æ­£ç¡®çš„æ—¶åŒºæ–‡ä»¶\n\n\n\n\nå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨\n\n\nå‘½ä»¤\nåŠŸèƒ½æè¿°\n\n\n\nchronyc sources\næŸ¥çœ‹æ—¶é—´åŒæ­¥æºçŠ¶æ€\n\n\nchronyc -a makestep\nç«‹å³å¼ºåˆ¶æ—¶é—´åŒæ­¥\n\n\nhwclock --hctosys\nç¡¬ä»¶æ—¶é—´åŒæ­¥åˆ°ç³»ç»Ÿæ—¶é—´\n\n\nhwclock --systohc\nç³»ç»Ÿæ—¶é—´åŒæ­¥åˆ°ç¡¬ä»¶æ—¶é—´\n\n\ntimedatectl set-local-rtc 1\nè®¾ç½®ç¡¬ä»¶æ—¶é’Ÿä½¿ç”¨æœ¬åœ°æ—¶åŒº\n\n\ntimedatectl set-ntp yes\nå¯ç”¨ NTP æ—¶é—´åŒæ­¥\n\n\n\né€‚ç”¨ç³»ç»Ÿ: CentOS&#x2F;RHEL 7+ã€Ubuntu 16.04+\n\næç¤ºï¼šç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®å°†ç¡¬ä»¶æ—¶é’Ÿè®¾ç½®ä¸º UTC (timedatectl set-local-rtc 0)ï¼Œå¹¶ç¡®ä¿é˜²ç«å¢™æ­£ç¡®é…ç½®å…è®¸ NTP æµé‡ã€‚\n\n","categories":["Linux"],"tags":["chrony"]},{"title":"clickhouseåˆ†å¸ƒå¼åŸºæœ¬ä½¿ç”¨","url":"/2025/09/08/clickhouse%E5%88%86%E5%B8%83%E5%BC%8F%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/","content":"ç›®å‰clickhouseåˆ›å»ºæ˜¯2å‰¯æœ¬çš„,ä¸šåŠ¡é¡µé¢è®¿é—®clickhouse å‘ç°ä¸¤ä¸ªclickhouseçš„æ•°æ®ä¸åŒæ­¥ã€‚ä¸»è¦åŸå› æ˜¯æœªåˆ›å»ºåˆ†å¸ƒå¼clickhouseå®ä¾‹ã€‚ç›®å‰é’ˆå¯¹è¯¥åœºæ™¯è¿›è¡Œè®°å½•clickhouseåˆ†å¸ƒå¼çš„ä½¿ç”¨\nå®¹å™¨ç™»é™†clickhouseæ•°æ®åº“kubectl  exec -it -n sso     clickhouse-sso-test-clickhhouse-0-ss-0  -c clickhouse -- clickhouse-client --user root --password testclickhouse  \n\næˆ–è€…ä½¿ç”¨curlè¿æ¥clickhouseç›®å‰ä¸šåŠ¡å¯ä¾æ®ä½¿ç”¨æƒ…å†µï¼Œå¦‚ä½¿ç”¨ä»£ç è¿›è¡Œåˆ›å»ºã€‚æˆ–è€…ä½¿ç”¨å¯è§†åŒ–è§†å›¾è¿›è¡Œåˆ›å»ºã€‚\ncurl -X POST \\  &quot;http://10.25.83.231:8123/?user=root&amp;password=testclickhouse&quot; \\  -d &quot;create database test0814 on cluster defaultCluster;&quot;\n\nåˆ›å»ºåˆ†å¸ƒå¼åº“#test0813 ä¸ºæ•°æ®åº“å#defaultCluster çš„ ClickHouse é›†ç¾¤create database test0813 on cluster defaultCluster;\n\nåˆ›å»ºæœ¬åœ°è¡¨#SHOW CREATE TABLE test0813.local_table å¯æŸ¥çœ‹è¡¨ç»“æ„CREATE TABLE test0813.local_table ON CLUSTER defaultCluster(    event_date Date,    user_id UInt64,    action_type Enum(&#x27;login&#x27;, &#x27;logout&#x27;),    device Array(String))ENGINE = ReplicatedMergeTree(&#x27;/clickhouse/tables/&#123;shard&#125;/test0813/local_table&#x27;, &#x27;&#123;replica&#125;&#x27;)PARTITION BY toYYYYMM(event_date)ORDER BY (user_id, action_type)SETTINGS index_granularity = 8192;\n\nè¯´æ˜ï¼š\n1.test0813.local_tableï¼šåˆ›å»ºåœ¨ test0813 æ•°æ®åº“ä¸­çš„ local_table è¡¨\n2.ON CLUSTER defaultClusterï¼šåœ¨åä¸º defaultCluster çš„ ClickHouse é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹ä¸Šåˆ›å»ºæ­¤è¡¨\n3.ReplicatedMergeTreeè¿™ä¸ªå¼•æ“ç”¨äºåˆ›å»ºå…·æœ‰å¤åˆ¶åŠŸèƒ½çš„è¡¨ï¼Œç¡®ä¿æ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´åŒæ­¥ã€‚\n\n\n\nè·¯å¾„ç»„ä»¶\nè¯´æ˜\nç¤ºä¾‹å€¼\n\n\n\n&#x2F;clickhouse&#x2F;tables\næ ¹è·¯å¾„ï¼ˆClickHouse çº¦å®šï¼‰\nå›ºå®šå€¼\n\n\n{shard}\nåˆ†ç‰‡æ ‡è¯†ç¬¦å ä½ç¬¦\n01, shard1\n\n\ntest0813\næ•°æ®åº“åç§°\næ‚¨çš„æ•°æ®åº“å\n\n\nlocal_table\næœ¬åœ°è¡¨åç§°\næ‚¨çš„è¡¨å\n\n\n4.PARTITION BY toYYYYMM(event_date) â€“ æŒ‰æœˆåˆ†åŒº\n5.ORDER BY (user_id, action_type) â€“ ä¸»é”®ç´¢å¼•\n6.SETTINGS index_granularity &#x3D; 8192 â€“ ç´¢å¼•ç²’åº¦\nç´¢å¼•ç²’åº¦ï¼šæ¯ 8192 è¡Œç”Ÿæˆä¸€ä¸ªç´¢å¼•æ ‡è®°æ€§èƒ½å½±å“ï¼šå€¼è¶Šå° â†’ ç´¢å¼•æ›´ç²¾ç»† â†’ æŸ¥è¯¢æ›´å¿« â†’ ç´¢å¼•æ›´å¤§å€¼è¶Šå¤§ â†’ ç´¢å¼•æ›´ç²—ç³™ â†’ æŸ¥è¯¢ç¨æ…¢ â†’ ç´¢å¼•æ›´å°é»˜è®¤å€¼ï¼š8192ï¼ˆå¹³è¡¡é€‰æ‹©ï¼‰\n\n\n\nåˆ›å»ºåˆ†å¸ƒå¼è¡¨CREATE TABLE test0813.user_data ON CLUSTER defaultCluster(    event_date Date,    user_id UInt64,    action_type Enum(&#x27;login&#x27;, &#x27;logout&#x27;),    device Array(String))ENGINE = Distributed(    defaultCluster,   -- é›†ç¾¤åç§°    &#x27;test0813&#x27;,       -- æ•°æ®åº“å    &#x27;local_table&#x27;,    -- åº•å±‚æœ¬åœ°è¡¨å    rand()            -- åˆ†ç‰‡é”®ï¼ˆéšæœºåˆ†å¸ƒï¼‰);\n\næ’å…¥æ•°æ®# é€šè¿‡åˆ†å¸ƒå¼è¡¨æ’å…¥ï¼ˆè‡ªåŠ¨è·¯ç”±ï¼‰INSERT INTO test0813.user_data VALUES    (&#x27;2023-08-11&#x27;, 1001, &#x27;login&#x27;, [&#x27;iPhone&#x27;,&#x27;iOS 15&#x27;]),    (&#x27;2023-08-11&#x27;, 1002, &#x27;logout&#x27;, [&#x27;Android&#x27;,&#x27;Chrome&#x27;]),    (&#x27;2023-08-12&#x27;, 1003, &#x27;login&#x27;, [&#x27;Windows&#x27;,&#x27;Firefox&#x27;]);\n\nåˆ é™¤æ•°æ®#å®‰å…¨åˆ é™¤åˆ†å¸ƒå¼è¡¨ï¼Œåˆ é™¤åˆ†å¸ƒå¼è¡¨ï¼ˆä¸å½±å“æ•°æ®ï¼‰DROP TABLE IF EXISTS test0813.user_data ON CLUSTER defaultCluster#åˆ é™¤æœ¬åœ°è¡¨ï¼ˆæ°¸ä¹…åˆ é™¤æ•°æ®ï¼‰DROP TABLE IF EXISTS test0813.local_table ON CLUSTER defaultCluster\n\nå…¶ä»–è¯´æ˜\nåˆ›å»ºå¤šå¼ è¡¨ï¼Œæ˜¯å¦éœ€è¦åˆ›å»ºå¤šå¼ local_tableçš„è¡¨ï¼Ÿéœ€è¦çš„\néœ€è¦å…³é—­ä¸€å°èŠ‚ç‚¹ï¼ŒæŸ¥çœ‹æ•°æ®æ˜¯å¦åŒæ­¥ã€‚ä¼šåŒæ­¥çš„\n\n","categories":["ä¸­é—´ä»¶"],"tags":["clickhouse"]},{"title":"shellä¹‹è·å–dockerå®¹å™¨ä¸­çš„cpuä¸å†…å­˜ä½¿ç”¨ç‡","url":"/2025/09/06/shell%E4%B9%8B%E8%8E%B7%E5%8F%96docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84cpu%E4%B8%8E%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E7%8E%87/","content":"èƒŒæ™¯ï¼šè¯¥é¡¹ç›®è¿ç§»è‡³æ–°ç¯å¢ƒéœ€æ±‚ï¼Œå°†åŸå…ˆTSFé›†ç¾¤ï¼ˆèŠ‚ç‚¹æ•°ï¼šxxxï¼‰è¿ç§»åˆ°æ–°ç¯å¢ƒä¸­ï¼Œjmeter å‹æµ‹ä¸€ä¸ªæŸ¥è¯¢æ¥å£çš„æ•°æ®ã€‚åˆ†åˆ«åœ¨æ—§ç¯å¢ƒä¸æ–°ç¯å¢ƒçš„æ¥å£æ•°æ®è¿›è¡Œå‹æµ‹ï¼Œå¯¹æ¯”ç›‘æ§CPUã€å†…å­˜åˆ©ç”¨ç‡æƒ…å†µã€‚ç›®å‰æ—§ç¯å¢ƒå®¹å™¨æ— ç›‘æ§ï¼Œæ•…æ€è·¯ä¸Šä½¿ç”¨è„šæœ¬æ¥è·å–ç›‘æ§æ•°æ®ï¼Œè·å–çš„æ•°æ®ç”¨å›¾æ ‡å±•ç¤ºå‡ºæ¥ã€‚åº•å±‚çš„k8sæ¯”è¾ƒè€ï¼Œæš‚æœªæ”¯æŒkubectl  top  å®¹å™¨ã€‚\né—®é¢˜:ä¸ºä»€ä¹ˆä¸è¿›å…¥å®¹å™¨ä¸­æŸ¥çœ‹ï¼ŒtopæŸ¥çœ‹å®¹å™¨çš„èµ„æºä½¿ç”¨é‡ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å®¹å™¨ä¸­è¿è¡Œ top å‘½ä»¤ï¼Œè™½ç„¶å¯ä»¥çœ‹åˆ°å®¹å™¨ä¸­æ¯ä¸ªè¿›ç¨‹çš„ CPU ä½¿ç”¨ç‡ï¼Œä½†æ˜¯ top ä¸­â€%Cpu(s)â€é‚£ä¸€è¡Œä¸­æ˜¾ç¤ºçš„æ•°å€¼ï¼Œå¹¶ä¸æ˜¯è¿™ä¸ªå®¹å™¨çš„ CPU æ•´ä½“ä½¿ç”¨ç‡ï¼Œè€Œæ˜¯å®¹å™¨å®¿ä¸»æœºçš„ CPU ä½¿ç”¨ç‡ã€‚\n#!/bin/bashHOST_NAME=$(hostname -I | awk &#x27;&#123;print $2&#125;&#x27;)LOG_FILE=&quot;/var/log/docker_stats_20250719_$HOST_NAME.log&quot;DOCKER_NAME=$(docker ps |grep  &quot;tsf_1/element-server&quot; |awk &#x27;&#123;print $1&#125;&#x27;)INTERVAL=5 # æ”¶é›†é—´éš”ï¼ˆç§’ï¼‰# åˆ›å»ºæ—¥å¿—æ–‡ä»¶å¹¶æ·»åŠ è¡¨å¤´echo &quot;æ—¶é—´æˆ³,å®¹å™¨ID,CPUä½¿ç”¨ç‡%,å†…å­˜ä½¿ç”¨ç‡%&quot; &gt; &quot;$LOG_FILE&quot;while true; do    # è·å–å½“å‰æ—¶é—´æˆ³    TIMESTAMP=$(date &#x27;+%H:%M:%S&#x27;)    # ä½¿ç”¨ top æ”¶é›† CPU ä½¿ç”¨ç‡ï¼ˆæå– %Cpu(s): åçš„æ•°å€¼ï¼‰    CPU_MEM_USAGE=$(docker stats $DOCKER_NAME --no-stream --format &quot;&#123;&#123;.Container&#125;&#125;,\\t&#123;&#123;.CPUPerc&#125;&#125;,\\t\\t&#123;&#123;.MemPerc&#125;&#125;&quot;)    echo $CPU_MEM_USAGE    #top -bn1 | grep &#x27;%Cpu&#x27; | awk &#x27;&#123;print &quot;CPUä½¿ç”¨ç‡: &quot; 100 - $8 &quot;%&quot;&#125;&#x27;    echo &quot;$TIMESTAMPï¼Œ $CPU_MEM_USAGE &quot;  &gt;&gt; &quot;$LOG_FILE&quot;    # ç­‰å¾…ä¸‹ä¸€æ¬¡æ”¶é›†    sleep $INTERVALdone\n\næœ€ååˆ¶ä½œå‡ºæ¥çš„å›¾æ ‡å¦‚ä¸‹ï¼š\n\nå…³äºå¾—åˆ°çš„æ•°æ®çš„ç–‘é—®çš„è®°å½•\nä»å›¾æ ‡ä¸Šå¯ä»¥å¾—å‡ºæœ‰çš„CPUè¶…100%äº†ï¼ŒåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ­£å¸¸æ¥çœ‹è¿™ä¸ªCPUåº”è¯¥æ˜¯å¤šå°‘çš„\n\nç»å¯¹èµ„æºæ¶ˆè€—é‡\n\n307% = 3.07 ä¸ªé€»è¾‘ CPU æ ¸å¿ƒæ»¡è½½#è¡¨ç¤ºå®¹å™¨å½“å‰æ¯ç§’æ¶ˆè€— 3.07 æ ¸å¿ƒç§’çš„è®¡ç®—èµ„#ç›¸å½“äºï¼š 3 ä¸ªæ ¸å¿ƒ 100% æ»¡è½½ + ç¬¬ 4 ä¸ªæ ¸å¿ƒ 7% è´Ÿè½½ æˆ– 4 ä¸ªæ ¸å¿ƒå¹³å‡ 76.75% è´Ÿè½½\n\n\ndocker stats ä¸­æŸ¥çœ‹ ä»¥ä¸‹å‚æ•° docker æœ‰å…³cpué…ç½®çš„åŒºåˆ«ï¼š\n\n[root@x.x.x.x ~]# docker inspect 1f77b1a2b98e |grep -i cpu            &quot;CpuShares&quot;: 4096, #cpu requestçš„å€¼            &quot;NanoCpus&quot;: 0,            &quot;CpuPeriod&quot;: 100000,            &quot;CpuQuota&quot;: 400000, #cpu limitçš„å€¼            &quot;CpuRealtimePeriod&quot;: 0,            &quot;CpuRealtimeRuntime&quot;: 0,            &quot;CpusetCpus&quot;: &quot;9-12&quot;, #è¿è¡Œåœ¨å“ªä¸ªcpuä¸Š            &quot;CpusetMems&quot;: &quot;&quot;,            &quot;CpuCount&quot;: 0,            &quot;CpuPercent&quot;: 0,\n\n","categories":["å·¥å…·"],"tags":["docker","shell"]},{"title":"å®¹å™¨åŒ–ä¹‹ç»†èŠ‚é—®é¢˜å¤„ç†ç¯‡01","url":"/2025/09/06/%E5%AE%B9%E5%99%A8%E5%8C%96%E4%B9%8B%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86%E7%AF%8701/","content":"é—®é¢˜ç°è±¡ï¼šå®¹å™¨1ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š\nPID 1ï¼š Javaè¿›ç¨‹\n\nå®¹å™¨2ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š\nPID 1: /sbin/tini -- ./entrypoint.shPID 6: Javaè¿›ç¨‹\n\nå…³é”®åŒºåˆ«åœ¨äºï¼šç¬¬äºŒä¸ªå®¹å™¨çš„entrypoint.shè„šæœ¬å¯èƒ½æ˜¯é€šè¿‡tiniå¯åŠ¨çš„ã€‚è€Œç¬¬ä¸€ä¸ªå®¹å™¨å¯èƒ½æ˜¯ç›´æ¥ä»¥entrypoint.shä½œä¸ºå…¥å£ç‚¹ï¼Œæ²¡æœ‰ä½¿ç”¨tiniï¼Œæ‰€ä»¥åœ¨execæ‰§è¡ŒåJavaè¿›ç¨‹æ›¿æ¢äº†shellè¿›ç¨‹æˆä¸ºPID 1ã€‚\ndocker ps -a --no-trunc |grep xxx #æŸ¥çœ‹docker å¯åŠ¨å‘½ä»¤è¿›è¡Œç¡®è®¤,ä½¿ç”¨docker runæ—¶æŒ‡å®šäº†initç¨‹åºä¸ºtiniã€‚\n\nè¿™æ˜¯å› ä¸ºåœ¨Dockerfileä¸­å¯èƒ½ä½¿ç”¨äº†ç±»ä¼¼ä»¥ä¸‹çš„æŒ‡ä»¤ï¼šENTRYPOINT [â€œ&#x2F;sbin&#x2F;tiniâ€, â€œâ€“â€, â€œ.&#x2F;entrypoint.shâ€]\ncat entrypoint.sh #!/bin/sh -eecho &quot;The application will start in $&#123;APP_SLEEP&#125;s...&quot; &amp;&amp; sleep $&#123;APP_SLEEP&#125;exec /usr/bin/java -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap $&#123;JAVA_OPTS&#125; \\     \t-Djava.security.egd=file:/dev/./urandom \\      -Dtsf.swagger.enabled=false \\     \t-jar /root/app/element-server2*.jar $&#123;RUN_ARGS&#125; &quot;$@&quot;\n\n\ntini çš„ä½œç”¨\n\n1.tini æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åˆå§‹åŒ–ç³»ç»Ÿï¼Œä¸“é—¨ä¸ºå®¹å™¨è®¾è®¡\n\n1.å¯ä»¥ç¡®ä¿å®ƒèƒ½æ­£ç¡®æ¥æ”¶ Docker åœæ­¢å‘½ä»¤å‘é€çš„ä¿¡å·\n\n2.å®ƒä½œä¸º PID 1 è¿è¡Œï¼Œè´Ÿè´£ç®¡ç†å­è¿›ç¨‹ï¼ˆè¿™é‡Œæ˜¯ entrypoint.shï¼‰\n\n3.entrypoint.sh è„šæœ¬ä»ç„¶ä½¿ç”¨ exec å¯åŠ¨ Javaï¼Œä½†æ­¤æ—¶ï¼š\n  exec æ›¿æ¢çš„æ˜¯ entrypoint.sh è¿›ç¨‹ï¼ˆPID 6ï¼‰ï¼Œè€Œä¸æ˜¯ PID 1\n  tini ä¿æŒä¸º PID 1ï¼ŒJava è¿›ç¨‹ä½œä¸ºå…¶å­è¿›ç¨‹è¿è¡Œ\n\n\nä¸¤ç§æ–¹å¼çš„æ¯”è¾ƒ\n\n\nç‰¹æ€§\nç›´æ¥ exec (æ—  tini)\nä½¿ç”¨ tini\n\n\n\nPID 1 è¿›ç¨‹\nJava åº”ç”¨\ntini\n\n\nä¿¡å·å¤„ç†\nåº”ç”¨éœ€è‡ªè¡Œå¤„ç†\ntini ååŠ©å¤„ç†\n\n\nåƒµå°¸è¿›ç¨‹å›æ”¶\nå¯èƒ½å­˜åœ¨é—®é¢˜\nè‡ªåŠ¨å›æ”¶\n\n\nè¿›ç¨‹æ ‘ç»“æ„\næ›´ç®€å•\nç¨å¤æ‚ä½†æ›´å¥å£®\n\n\n","categories":["å®¹å™¨åŒ–"],"tags":["docker"]},{"title":"å®¹å™¨åŒ–ä¹‹ç»†èŠ‚é—®é¢˜å¤„ç†ç¯‡02","url":"/2025/09/07/%E5%AE%B9%E5%99%A8%E5%8C%96%E4%B9%8B%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86%E7%AF%8702/","content":"èƒŒæ™¯ï¼šé¡¹ç›®ä¸Šéœ€è¦å°†æœåŠ¡çš„æ—¥å¿—éƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Œå¯¹äºæœ‰ä¸¤ç±»æ—¥å¿—æ–‡ä»¶ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºæ—¥å¿—å‡ºæ¥çš„ã€‚æƒ…å†µ1ï¼šä¸šåŠ¡æœåŠ¡ä¸­æœªå°†æœåŠ¡æ—¥å¿—æ‰“å°åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼ŒæŸ¥çœ‹å®¹å™¨æ‰€åœ¨èŠ‚ç‚¹æœ‰æŸ¥çœ‹åˆ°0.log ç±»ä¼¼çš„æ—¥å¿—ï¼Œéœ€è¦ç¡®è®¤è¯¥æ—¥å¿—æ˜¯å¦å°±æ˜¯æœåŠ¡çš„è¿è¡Œæ—¥å¿—ï¼Œç›®å‰é’ˆå¯¹è¯¥ç§æ—¥å¿—äº§ç”Ÿçš„è¿‡ç¨‹æµç¨‹æ¢³ç†\nå®¹å™¨çš„æ ‡å‡†è¾“å‡º&#x2F;var&#x2F;log&#x2F;pods&#x2F;â€¦&#x2F;0.log æ–‡ä»¶çš„äº§ç”Ÿè¿‡ç¨‹æ˜¯ï¼š\nApp è¾“å‡º -&gt; stdout/stderrè¿è¡Œæ—¶æ•è· -&gt; å®¹å™¨è¿è¡Œæ—¶ï¼ˆDocker/containerdï¼‰å°†å…¶å†™å…¥è‡ªå·±çš„ JSON æ—¥å¿—æ–‡ä»¶ä¸­ã€‚kubelet ç»„ç»‡ -&gt; kubelet åˆ›å»ºæ¸…æ™°çš„ç›®å½•ç»“æ„ï¼Œå¹¶é€šè¿‡ç¬¦å·é“¾æ¥æŒ‡å‘å®¹å™¨è¿è¡Œæ—¶çš„åŸå§‹æ—¥å¿—æ–‡ä»¶ã€‚å¯¹å¤–æ¥å£ -&gt; è¿™ä¸ªè·¯å¾„æˆä¸ºäº†è¯¥å®¹å™¨æ—¥å¿—åœ¨èŠ‚ç‚¹ä¸Šçš„æ ‡å‡†åŒ–ã€ç¨³å®šçš„è®¿é—®ç‚¹ã€‚æ— è®ºæ˜¯ç³»ç»Ÿç®¡ç†å‘˜ã€æ—¥å¿—é‡‡é›†ä»£ç†ï¼ˆå¦‚ Filebeatã€Fluentdï¼‰ï¼Œè¿˜æ˜¯ kubectl logs å‘½ä»¤ï¼Œæœ€ç»ˆéƒ½æ˜¯é€šè¿‡è¯»å–è¿™ä¸ªè·¯å¾„ä¸‹çš„æ–‡ä»¶æ¥è·å–æ—¥å¿—å†…å®¹çš„ã€‚kubectl logs å‘½ä»¤çš„å·¥ä½œåŸç†å°±æ˜¯ï¼šapiserver -&gt; å¯¹åº”èŠ‚ç‚¹çš„ kubelet -&gt; kubelet è¯»å– /var/log/pods/.../0.log æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œè§£æ JSON æ ¼å¼ï¼Œåªæå– log å­—æ®µçš„çº¯æ–‡æœ¬ä¿¡æ¯ï¼Œç„¶åæµå¼ä¼ è¾“å›ç»™è¯·æ±‚è€…ã€‚\n\nå…³ç³»ä¸åŒºåˆ«\n\n\nç‰¹æ€§\n/var/log/pods/.../0.log (æºæ–‡ä»¶:ç±»æ¯”æ•°æ®åº“åŸå§‹è¡¨)\nkubectl logs (è§£æåçš„è§†å›¾:ç±»æ¯”æ‰§è¡ŒSQLåçš„è§†å›¾)\n\n\n\nå†…å®¹\nåŸå§‹ã€å®Œæ•´çš„æ•°æ®\nè§£æåã€ç­›é€‰è¿‡çš„å†…å®¹\n\n\næ ¼å¼\nJSONæ ¼å¼ï¼Œæ¯è¡Œä¸€æ¡å®Œæ•´çš„JSONè®°å½•\nçº¯æ–‡æœ¬ï¼Œåªæå–äº†JSONä¸­çš„æ—¥å¿—æ¶ˆæ¯æœ¬èº«\n\n\nå…ƒæ•°æ®\nåŒ…å«ä¸°å¯Œå…ƒæ•°æ®ï¼Œå¦‚å®Œæ•´çš„æ—¶é—´æˆ³ã€æµç±»å‹ï¼ˆstdout&#x2F;stderrï¼‰\nä¸åŒ…å«JSONä¸­çš„å…ƒæ•°æ®ï¼Œä½†å¯èƒ½ä¼šæ ¼å¼åŒ–è¾“å‡ºæ—¶é—´æˆ³ï¼ˆéœ€åŠ  --timestampsï¼‰\n\n\nè®¿é—®æ–¹å¼\nç›´æ¥ç™»å½•åˆ°èŠ‚ç‚¹æœåŠ¡å™¨æŸ¥çœ‹æ–‡ä»¶\né€šè¿‡Kubernetes API Serverè¿œç¨‹æŸ¥è¯¢\n\n\nä¸»è¦ä½¿ç”¨è€…\nç³»ç»Ÿã€æ—¥å¿—é‡‡é›†ä»£ç†ï¼ˆå¦‚Fluentd, Filebeatï¼‰\nå¼€å‘è€…ã€è¿ç»´äººå‘˜\n\n\næƒ…å†µ2ï¼šä¸šåŠ¡æœåŠ¡ä¸­æ—¥å¿—æ‰“å°æ˜¾ç¤ºæ˜¯éœ€è¦æ—¥å¿—æ–‡ä»¶çš„æŒ‚è½½ï¼Œç›®å‰æŒ‚è½½æ–‡ä»¶æ—¥å¿—æ˜¾ç¤ºå¦‚ä¸‹ã€‚mountPath: &#x2F;root&#x2F;app (æœåŠ¡å¯åŠ¨jaråœ¨æ”¹ç›®å½•) åˆ™ä¼šæŒ‚è½½å¤±è´¥ã€‚åŸå› :å…±äº«å·ä¼šæŠŠå…¶ä»–é•œåƒå†…ç½®çš„æ–‡ä»¶æ¸…ç©ºçš„ã€‚æ‰€ä»¥ä½¿ç”¨è¯¥ç§æ–¹å¼æœ€å¥½ç»Ÿä¸€æ”¾åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹æ˜¯è¯¥ç§æƒ…å†µçš„æœ€ä½³å®è·µ\n        volumeMounts:        - mountPath: /root/app/log          name: test-log-l9ynkeyd-1...      volumes:      - emptyDir: &#123;&#125;        name: test-log-l9ynkeyd-1\n\nå­˜å‚¨ç±»å‹æ€»ç»“å¯¹æ¯”è¡¨æ ¼:\n\n\nå­˜å‚¨ç±»å‹\næ¦‚å¿µç†è§£\nç”Ÿå‘½å‘¨æœŸ\n\n\n\nemptyDir\nä¸´æ—¶å­˜å‚¨ï¼Œä¼šåœ¨èŠ‚ç‚¹åˆ›å»ºç©ºç›®å½•\nç”Ÿå‘½å‘¨æœŸ&#x3D;pod\n\n\nhostPath\nå…è®¸æŒ‚è½½å®¿ä¸»æœºæ–‡ä»¶åˆ°pod\nç”Ÿå‘½å‘¨æœŸ&#x3D;å®¿ä¸»æœº\n\n\nPVC&#x2F;PV\nKubernetesä¸­æŒä¹…å­˜å‚¨çš„æŠ½è±¡ï¼Œç”¨æˆ·é€šè¿‡å£°æ˜PVCè¯·æ±‚å­˜å‚¨èµ„æºï¼Œè€ŒPVCä¼šç»‘å®šåˆ°æ»¡è¶³å…¶éœ€æ±‚çš„PV\næŒä¹…å­˜å‚¨\n\n\nStorageClass\nå¤šä¸ªStorageClassï¼Œç”¨æˆ·åœ¨åˆ›å»ºPVCæ—¶æŒ‡å®šStorageClassåç§°ï¼Œä»¥åŠ¨æ€ç”³è¯·å­˜å‚¨èµ„æºã€‚\næŒä¹…å­˜å‚¨\n\n\nè¯¦ç»†åœºæ™¯è¯´æ˜\n","categories":["å®¹å™¨åŒ–"],"tags":["docker","å­˜å‚¨"]},{"title":"å®¹å™¨åŒ–ä¹‹ç»†èŠ‚é—®é¢˜å¤„ç†ç¯‡03","url":"/2025/09/11/%E5%AE%B9%E5%99%A8%E5%8C%96%E4%B9%8B%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86%E7%AF%8703/","content":"Warning  SystemLoadIsFull  56s (x1313 over 2d2h)  custom-plugin-monitor  (combined from similar events): system load/cores percent exceeded threshold 80%, load/cores percent: 118.09%, load15m: 37.79\n\nå‘Šè­¦ä¿¡æ¯è§£è¯»è§¦å‘æ—¶é•¿ï¼š 56s (x1313 over 2d2h)\n\n**56s**ï¼š æœ¬æ¬¡å‘Šè­¦æŒç»­äº†56ç§’ï¼ˆå¯èƒ½åˆšåˆšæ¢å¤æˆ–æ­£åœ¨è§¦å‘ï¼‰ã€‚\n**x1313 over 2d2h**ï¼š å®ƒåœ¨è¿‡å» 2å¤©2å°æ—¶ å†…å·²ç»è§¦å‘äº† 1313æ¬¡ã€‚\n\nç›‘æ§æºï¼š custom-plugin-monitor\nå‘Šè­¦åŸå› ï¼š system load/cores percent exceeded threshold 80%\n\nå‘Šè­¦è§„åˆ™æ˜¯ï¼šï¼ˆè´Ÿè½½å¹³å‡å€¼ &#x2F; CPUæ ¸å¿ƒæ•°ï¼‰çš„ç™¾åˆ†æ¯” &gt; 80% å³è§¦å‘å‘Šè­¦ã€‚\n\nå…·ä½“æ•°å€¼ï¼š load/cores percent: 118.09%, load15m: 37.79\n\n**load15m: 37.79**ï¼š è¿‡å»15åˆ†é’Ÿçš„ç³»ç»Ÿå¹³å‡è´Ÿè½½æ˜¯ 37.79ã€‚\n**load/cores percent: 118.09%**ï¼š **(37.79 &#x2F; æ ¸å¿ƒæ•°) * 100% &#x3D; 118.09%**ã€‚\n\næ ¸å¿ƒé—®é¢˜è®¡ç®—ä¸ç¡®è®¤æ ¹æ®å‘Šè­¦æä¾›çš„ç™¾åˆ†æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥åæ¨å‡ºç›‘æ§ç³»ç»Ÿè®¤ä¸ºçš„CPUæ ¸å¿ƒæ•°ï¼š\næ ¸å¿ƒæ•° = load15m / (load/cores percent) = 37.79 / 1.1809 â‰ˆ 32 ä¸ªæ ¸å¿ƒ\n\nç»“è®ºï¼š\n\nå‘Šè­¦é˜ˆå€¼æ˜¯ 80%ï¼Œå³å½“è´Ÿè½½è¶…è¿‡ 0.8 * 32 = 25.6 æ—¶å°±ä¼šå‘Šè­¦ã€‚\nè€Œå½“å‰è´Ÿè½½è¾¾åˆ°äº† 37.79ï¼Œæ˜¯é˜ˆå€¼çš„ ~1.5å€ï¼Œè¶…å‡ºç¨‹åº¦å¾ˆé«˜ã€‚\nè´Ÿè½½&#x2F;æ ¸å¿ƒæ¯”è¾¾åˆ°äº† **118%**ï¼Œæ„å‘³ç€å¹³å‡æœ‰ 37.79ä¸ªè¿›ç¨‹ åœ¨ç«äº‰ 32ä¸ªCPUæ ¸å¿ƒï¼Œå¹³å‡è‡³å°‘æœ‰ 5-6ä¸ªè¿›ç¨‹ åœ¨æ°¸è¿œåœ°æ’é˜Ÿç­‰å¾…ï¼Œç³»ç»Ÿé•¿æœŸå¤„äºä¸¥é‡è¿‡è½½çŠ¶æ€ã€‚\n\nTOPçš„ä¿¡æ¯è§£è¯»\nè´Ÿè½½æ˜¯ï¼š 26.05, 37.57, 43.67 (1åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿå¹³å‡è´Ÿè½½)\nåƒåªæœ‰32ä¸ªæ”¶é“¶å°ï¼Œå´å¹³å‡æœ‰43.67ä¸ªé¡¾å®¢è¦ç»“è´¦ã€‚è¿™æ„å‘³ç€å¹³å‡æœ‰è¶…è¿‡11ä¸ªè¿›ç¨‹ä¸€ç›´åœ¨æ’é˜Ÿç­‰å¾…è·å¾—CPUèµ„æºï¼ˆæˆ–è€…æ˜¯åœ¨ç­‰å¾…ç£ç›˜I&#x2F;Oå®Œæˆï¼‰ã€‚\n\nç©ºé—²ç‡\nCpu0: us 13.9%, sy 9.9%, id 73.5% -&gt; ç©ºé—²ç‡73.5%ï¼Œè¿˜ç®—ç©ºé—²ã€‚Cpu16: us 17.2%, sy 10.5%, id 69.9% -&gt; ç©ºé—²ç‡69.9%Cpu19: us 19.3%, sy 9.8%, id 67.6% -&gt; ç©ºé—²ç‡67.6%Cpu20: us 22.8%, sy 10.4%, id 64.1% -&gt; ç©ºé—²ç‡64.1%\næœ‰ä¸€äº›æ ¸å¿ƒçš„idleï¼ˆç©ºé—²ï¼‰ç™¾åˆ†æ¯”ä½äº70%ï¼Œè€Œæœ‰äº›æ ¸å¿ƒï¼ˆå¦‚Cpu11, Cpu12, Cpu13, Cpu14, Cpu15ï¼‰çš„ç©ºé—²ç‡åœ¨97%ä»¥ä¸Šã€‚è¿™è¡¨æ˜è´Ÿè½½å¹¶ä¸å‡è¡¡ï¼Œå¯èƒ½æœ‰ä¸€äº›è¿›ç¨‹ç»‘å®šåˆ°äº†ç‰¹å®šçš„CPUæ ¸å¿ƒä¸Šï¼Œæˆ–è€…æŸäº›è¿›ç¨‹åœ¨å¤šä¸ªæ ¸å¿ƒä¸Šè¿è¡Œä½†åˆ†å¸ƒä¸å‡ã€‚\n\né«˜CPUè¿›ç¨‹: \nPID 3995612 (java): å ç”¨396.1% CPU (çº¦4ä¸ªæ ¸å¿ƒçš„æ»¡è½½)\nPID 1677 (dockerd): å ç”¨41.1% CPU\nPID 3995595 (containerd-shim): å ç”¨21.1% CPU\n\nä¸ºä»€ä¹ˆæ‚¨çš„ç³»ç»Ÿè´Ÿè½½é«˜ï¼Œä½†CPUä½¿ç”¨ç‡çœ‹èµ·æ¥ä¸ç®—æé«˜ï¼Ÿ\n1.%wa (I&#x2F;O Wait),å‡ ä¹æ‰€æœ‰æ ¸å¿ƒçš„ %wa éƒ½æ˜¯ 0.0ã€‚æ‰€æœ‰é«˜çº¯ç²¹çš„CPUè®¡ç®—èµ„æºç«äº‰ã€‚\n2.è¿™äº›è¿›ç¨‹å¯¹CPUçš„æ€»éœ€æ±‚ï¼ˆ43.67ï¼‰è¶…è¿‡äº†ç³»ç»Ÿèƒ½åŒæ—¶æä¾›çš„æ•°é‡ï¼ˆ32ï¼‰ï¼Œæ‰€ä»¥å®ƒä»¬å¿…é¡»æ’é˜Ÿã€‚è¿™ä¸ªæ’é˜Ÿé˜Ÿä¼çš„å¹³å‡é•¿åº¦å°±æ˜¯è´Ÿè½½å¹³å‡å€¼(43.67)ã€‚ã€ç†è§£ç­‰äºPIDçš„æ‰€å†å çš„CPUå€¼å¤§äº32ã€‘\n\n\n"},{"title":"æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢","url":"/2025/09/06/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/","content":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼\nä¸€ä¸‹æ˜¯å¼€å¯æˆ‘åšå®¢çš„å¼€å§‹ä¹‹è·¯\nä¸€ã€åˆ›å»ºäº Hexo + GitHub Pages çš„æ­å»ºä¸ªäººåšå®¢ç½‘ç«™çš„è¯¦ç»†æ•™ç¨‹\näºŒã€æ›´æ–°åšå®¢çš„æºç ï¼ˆMarkdownæ–‡ç« ã€ä¸»é¢˜ã€é…ç½®ç­‰ï¼‰é€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªGitHubä»“åº“ä¸­ï¼Œè€Œé€šè¿‡Hexoç”Ÿæˆçš„é™æ€ç½‘ç«™æ–‡ä»¶åˆ™éƒ¨ç½²åˆ°GitHub Pagesï¼ˆé€šå¸¸æ˜¯ username.github.io ä»“åº“çš„ç‰¹å®šåˆ†æ”¯ï¼Œå¦‚ gh-pages æˆ– mainï¼‰ã€‚\n\nğŸ“ æ‰‹åŠ¨æ›´æ–°å‘å¸ƒæµç¨‹ï¼ˆæœ¬åœ°å®Œæˆï¼‰è¿™ç§æ–¹å¼éœ€è¦åœ¨è®¡ç®—æœºä¸Šé…ç½®å¥½Hexoç¯å¢ƒï¼ˆNode.js, Git, Hexoç­‰ï¼‰ã€‚\n\næ–°å»ºåšæ–‡ï¼šä½¿ç”¨å‘½ä»¤åˆ›å»ºæ–°çš„Markdownæ–‡ä»¶ã€‚\nhexo new &quot;æ–‡ç« é¢˜ç›®&quot;  # æˆ– hexo n &quot;æ–‡ç« é¢˜ç›®&quot;\n\n\n\nè¿™ä¼šåœ¨ source/_posts ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª æ–‡ç« é¢˜ç›®.md æ–‡ä»¶ã€‚\n\nç¼–å†™&#x2F;æ›´æ–°å†…å®¹ï¼šç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚VS Codeï¼‰ç¼–è¾‘ç”Ÿæˆçš„Markdownæ–‡ä»¶ã€‚\n\nç”Ÿæˆé™æ€æ–‡ä»¶ï¼šåœ¨Hexoç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œå°†Markdownè½¬æ¢ä¸ºHTMLç­‰é™æ€èµ„æºã€‚\nhexo generate  # æˆ– hexo g\n\n\n\nå¦‚æœéœ€è¦å…ˆæ¸…é™¤ç¼“å­˜å’Œæ—§æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\nhexo clean &amp;&amp; hexo generate```:cite[1]\n\n\n\næœ¬åœ°é¢„è§ˆï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼šåœ¨éƒ¨ç½²å‰ï¼Œæœ€å¥½å…ˆåœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨æ£€æŸ¥æ•ˆæœã€‚\nhexo server  # æˆ– hexo s \n\n\n\nç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:4000 æŸ¥çœ‹ã€‚\n\néƒ¨ç½²åˆ°GitHub Pagesï¼šå°†ç”Ÿæˆå¥½çš„é™æ€æ–‡ä»¶ï¼ˆé€šå¸¸åœ¨ public ç›®å½•ï¼‰æ¨é€è‡³GitHubä»“åº“çš„ç‰¹å®šåˆ†æ”¯ã€‚\nhexo deploy  # æˆ– hexo d\n\n\n\nå¸¸ç”¨çš„ä¾¿æ·ç»„åˆå‘½ä»¤æ˜¯ï¼š\nhexo clean &amp;&amp; hexo g &amp;&amp; hexo dä¸ºäº†èƒ½ä½¿ç”¨ `hexo deploy` å‘½ä»¤ï¼Œæ‚¨éœ€è¦ï¼šåœ¨Hexoçš„**ç«™ç‚¹é…ç½®æ–‡ä»¶** (`_config.yml`) ä¸­æ­£ç¡®è®¾ç½®éƒ¨ç½²ä¿¡æ¯:    deploy:      type: git      repo: &lt;æ‚¨çš„GitHubä»“åº“SSHæˆ–HTTPSåœ°å€&gt;  # ä¾‹å¦‚ git@github.com:username/username.github.io.git      branch: &lt;éƒ¨ç½²åˆ†æ”¯ï¼Œå¦‚gh-pagesæˆ–main&gt; \n\n\nç¡®ä¿å·²å®‰è£… hexo-deployer-git æ’ä»¶:cite[4]:cite[6]ï¼šnpm install hexo-deployer-git --save\n\n\næ¨é€æºç ï¼ˆé‡è¦ï¼‰ï¼šhexo deploy é€šå¸¸åªéƒ¨ç½²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ã€‚åˆ«å¿˜äº†å°†æ‚¨çš„åšå®¢æºç ï¼ˆMarkdownæ–‡ç« ã€ä¸»é¢˜ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰ä¹Ÿæ¨é€åˆ°GitHubä»“åº“çš„å¦ä¸€ä¸ªåˆ†æ”¯ï¼ˆä¾‹å¦‚ source æˆ– hexo-sourceï¼‰ï¼Œä»¥ä¾¿å¤‡ä»½å’Œåœ¨å¤šè®¾å¤‡é—´åŒæ­¥ã€‚\n\n\nä¸‰ã€next å®¢åˆ¶åŒ–é¡µé¢3.1 å­—ä½“è®¾ç½®\nfont:  #enable: false  enable: true  # Uri of fonts host, e.g. https://fonts.googleapis.com (Default).  host:  # Font options:  # `external: true` will load this font family from `host` above.  # `family: Times New Roman`. Without any quotes.  # `size: x.x`. Use `em` as unit. Default: 1 (16px)  # Global font settings used for all elements inside &lt;body&gt;.  global:    external: true    family: sans-serif    size: 0.725em  # Font settings for site title (.site-title).  title:    external: true    family:    size:  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).  headings:    external: true    family:    size:  # Font settings for posts (.post-body).  posts:    external: true    family:  # Font settings for &lt;code&gt; and code blocks.  #Roboto  codes:    external: true    family: Fira Code      size: .6em\n\n\n\n3.2 é¡µé¢å­—ä½“è®¾ç½®\ncat  themes/next/source/css/_variables/base.styl$font-size-base           = (hexo-config(&#x27;font.enable&#x27;) and hexo-config(&#x27;font.global.size&#x27;) is a &#x27;unit&#x27;) ? unit(hexo-config(&#x27;font.global.size&#x27;), em) : .8125em;//$font-size-base           = .8125em; #ç»Ÿä¸€æ›´æ”¹è¿™ä¸ªå¤§å°\n\n3.3 ç”Ÿæ•ˆå¹¶éƒ¨ç½²\nhexo clean &amp;&amp; hexo g &amp;&amp; hexo d #æ¸…é™¤ç¼“å­˜ä¸”æµè§ˆå™¨ä¹Ÿéœ€æ— ç—•\n\n3.4 å›¾ç‰‡é—®é¢˜ä¸è®¾ç½®\n#å‚æ•°å¼€å¯+æ’ä»¶å®‰è£…+ç”¨hexo n æ–‡æ¡£ å»ç”Ÿæˆæ–‡æ¡£æ–‡ä»¶1.å°†_config.yml æ–‡ä»¶ä¸­çš„post_asset_folder é€‰é¡¹è®¾ä¸º true æ¥æ‰“å¼€2.npm install https://github.com/CodeFalling/hexo-asset-image --save\n\nå›¾ç‰‡è®¾ç½®ä¸ç”Ÿæ•ˆ  æ ‡ç­¾ä¸åˆ†ç±»é…ç½®  ç«™ç‚¹å¯¼èˆª\n","categories":["æ‚ç¯‡"]},{"title":"è®°ä¸€æ¬¡ç½‘å¡ä¿®æ”¹åŠnmcli ä½¿ç”¨","url":"/2025/09/06/%E8%AE%B0%E4%B8%80%E6%AC%A1%E7%BD%91%E5%8D%A1%E4%BF%AE%E6%94%B9%E5%8F%8Anmcli-%E4%BD%BF%E7%94%A8/","content":"å› éœ€è¦ä¿®æ”¹ç³»ç»Ÿå‚æ•°ç½‘å¡é˜Ÿåˆ—ï¼Œéœ€è¦å°†å…¶æœºå™¨éœ€è¦é‡å¯ã€‚ç›®å‰å‘ç°é›†ç¾¤ä¸€å…±100å¤šå°æœºå™¨ï¼Œé‡å¯å…¶ä¸­ä¸€å°masteræœºå™¨åï¼Œä¸€ç›´å¤„äºnotReadyçŠ¶æ€ã€‚åŸå› æ˜¯å› ä¸ºæ”¹æœºå™¨ä¸ºåŒç½‘å¡ï¼Œä½†æ˜¯å› ä¸ºç½‘å¡åæœªå›ºå®šã€‚é€ æˆä½¿ç”¨ä¸ºå›ºå®šçš„ç½‘å¡æœªå¯åŠ¨æˆåŠŸã€‚\nè§£å†³æ€è·¯ï¼š\n1. æŸ¥è¯¢100å¤šå°æœºå™¨ï¼Œ/etc/udev/rules.d/70-persistent-net.rules  æ–‡ä»¶æ˜¯å¦éƒ½å«2æ¡è®°å½•2.é’ˆå¯¹æœªå«çš„èŠ‚ç‚¹æ“ä½œï¼Œæ·»åŠ è¯¥æ¡ä¿¡æ¯ï¼Œç½‘å¡åä¸å¯ä¿®æ”¹ï¼Œè¦ä¸åŸå…ˆé‡å¯å‰ä¸€è‡´ã€‚æ·»åŠ åå¦‚ä¸‹ï¼šSUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;fa:16:3e:98:70:9c&quot;, NAME=&quot;ens3&quot;SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR&#123;address&#125;==&quot;fa:16:3e:f5:e0:f1&quot;, NAME=&quot;ens10&quot; #æ›´æ–°çš„ç›®æ ‡ç½‘å¡å\n\næ‹“å±•ï¼šå› åŠ çš„ç½‘å¡åå˜æ›´ä¸ºens4ï¼Œé€ æˆç½‘å¡ä¸€ç›´upä¸èµ·æ¥ã€‚\n[root@tcs-10-25-83-48 network-scripts]# nmcli  device conn ens4é”™è¯¯ï¼šæ·»åŠ /æ¿€æ´»æ–°è¿æ¥å¤±è´¥ï¼šConnection &#x27;ens4&#x27; is not available on device ens4 because device is strictly unmanaged\nnmcliå¤„ç†è¿‡ç¨‹ï¼šnmcli conn show  #æŸ¥çœ‹è®¾å¤‡è¿æ¥æƒ…å†µnmcli conn show &quot;System ens4&quot; #æŸ¥çœ‹ç½‘å¡è®¾ç½®çš„è¯¦æƒ…nmcli conn reload #é‡å¯è®¾å¤‡nmcli conn up ens4 #è¿æ¥ens4è®¾ç½®nmcli device set &lt;ç½‘å¡åç§°&gt; managed yes #æ¿€æ´»ç½‘å¡nmcli device #æŸ¥çœ‹æ‰€æœ‰çš„è®¾å¤‡nmcli device conn #å°†æ‰€æœ‰è®¾å¤‡connnmcli device conn ens4 #ç½‘å¡è¿æ¥nmcli  networking #æŸ¥çœ‹ç½‘ç»œæ˜¯ç”±è®¾ç½®\n\nåŸå› ï¼š\n[root@X-x.1-x.1-x.1-x.1 network-scripts]# cd /etc/NetworkManager/conf.d/[root@X-x.1-x.1-x.1-x.1 conf.d]# ls99-cloud-init.conf  99-container.conf[root@X-x.1-x.1-x.1-x.1 conf.d]# cat 99-cloud-init.conf # Created by cloud-init on instance boot automatically, do not edit.#[main]dns = none[root@X-x.1-x.1-x.1-x.1 conf.d]# cat 99-container.conf# avoid making container interface down[keyfile]unmanaged-devices=*,except:interface-name:ens10,except:interface-name:ens3 #99-container.confï¼Œå› å®¹å™¨å¹³å°éƒ¨ç½²å®Œåï¼Œç½‘å¡åè¢«è·å–åˆ°äº†å¹¶å†™å…¥åˆ°ç±»ä¼¼æ–‡ä»¶ä¸­ï¼Œæ•…ä¸å»ºè®®ä¿®æ”¹ç½‘å¡åç§°(å³NAME=&quot;ens10&quot;)\n\næ‹“å±•ï¼šè®°å½•ä¸€æ¬¡å› bondæ–‡ä»¶é…ç½®é—®é¢˜é€ æˆçš„äº¤æ¢æœºç½‘å£å…·æœ‰downçš„æƒ…å†µï¼Œæ²¡æœ‰nmcliå·¥å…·éœ€è¦é…ç½®ç½‘å¡é…ç½®bond4ï¼Œé…ç½®ä¿¡æ¯åŠå…¶å«ä¹‰ï¼Œè®°å½•æ­£å¸¸çš„é…ç½®ä¿¡æ¯åŠå¦‚ä½•å†æœºå™¨èŠ‚ç‚¹ä¸Šè¿›è¡Œæ’æŸ¥ç¡®è®¤ç½‘å£bondæ­£å¸¸\nifcfg-eth0#IP Config for eth0:DEVICE=&#x27;eth0&#x27;HWADDR=xxONBOOT=&#x27;yes&#x27;USERCTL=noBOOTPROTO=noneSLAVE=yes  # ä¿®æ­£æ‹¼å†™é”™è¯¯MASTER=bond1NM_CONTROLLED=no  # æ·»åŠ æ­¤è¡Œ\n\nifcfg-eth1#IP Config for eth1:DEVICE=&#x27;eth1&#x27;HWADDR=xxxxxONBOOT=&#x27;yes&#x27;MASTER=bond1SLAVE=yesUSERCTL=no  # ä¿®æ­£ä¸ºæœ‰æ•ˆå€¼BOOTPROTO=noneNM_CONTROLLED=no  # æ·»åŠ æ­¤è¡Œ\n\nifcfg-bond1#IP Config for bond1:DEVICE=bond1BOOTPROTO=noneIPADDR=10.215.173.44NETMASK=255.255.255.128GATEWAY=10.215.173.1USERCTL=noONBOOT=&#x27;yes&#x27;TYPE=Bond  # æ·»åŠ æ­¤è¡ŒBONDING_OPTS=&#x27;miimon=100 mode=4 ad_select=0 lacp_rate=fast updelay=200 xmit_hash_policy=2&#x27;  # ä¿®æ­£å‚æ•°NM_CONTROLLED=no  # æ·»åŠ æ­¤è¡Œ#mode=4ï¼šè¡¨ç¤ºIEEE 802.3adåŠ¨æ€é“¾è·¯èšåˆï¼ˆLACPï¼‰#miimon=100ï¼šæ¯100æ¯«ç§’æ£€æŸ¥ä¸€æ¬¡é“¾è·¯çŠ¶æ€#ad_select=1ï¼šé€‰æ‹©ç­–ç•¥ï¼Œ1è¡¨ç¤ºå¤‡ä»½æ¨¡å¼ï¼ˆä½†æ ¹æ®bondingæ–‡æ¡£ï¼Œad_selectçš„å¯èƒ½å€¼ä¸º0ã€1ã€2ï¼Œ1è¡¨ç¤ºâ€œå¤‡ä»½â€ä¼¼ä¹ä¸å¯¹ï¼Œé€šå¸¸ad_select=0ï¼ˆstableï¼‰æˆ–1ï¼ˆbandwidthï¼‰æˆ–2ï¼ˆcountï¼‰ï¼‰æ³¨æ„ï¼šad_select=1å®é™…ä¸Šè¡¨ç¤ºâ€œå¸¦å®½â€ï¼ˆbandwidthï¼‰ï¼Œå³é€‰æ‹©æ´»åŠ¨èšåˆç»„ä¸­å¸¦å®½æœ€å¤§çš„ç«¯å£ã€‚#lacp_rate=fastï¼šLACPé€Ÿç‡ï¼Œfastè¡¨ç¤ºæ¯1ç§’å‘é€ä¸€æ¬¡LACPæŠ¥æ–‡ï¼ˆæ…¢é€Ÿä¸º30ç§’ï¼‰#updelay=0ï¼šå¯ç”¨ç«¯å£çš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œä½†è¿™é‡Œè®¾ç½®äº†ä¸¤æ¬¡updelayï¼Œç¬¬ä¸€ä¸ªä¸º0ï¼Œç¬¬äºŒä¸ªä¸º200ï¼Œè¿™å¯èƒ½ä¼šè¢«æœ€åä¸€ä¸ªå€¼è¦†ç›–ã€‚å®é™…ä¸Šï¼Œåœ¨#BONDING_OPTSä¸­ï¼ŒåŒä¸€ä¸ªå‚æ•°å‡ºç°å¤šæ¬¡ï¼Œé€šå¸¸æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚æ‰€ä»¥updelay=200å¯èƒ½ä¼šè¦†ç›–å‰é¢çš„0ã€‚#xmit_hash_policy=2ï¼šä¼ è¾“å“ˆå¸Œç­–ç•¥ï¼Œ2è¡¨ç¤ºä½¿ç”¨å±‚3+4ï¼ˆIPå’Œç«¯å£ï¼‰çš„å“ˆå¸Œã€‚\n\né…ç½®é—®é¢˜åˆ†æ\n ifcfg-bond1 ä¸­çš„é—®é¢˜\n\né‡å¤çš„ updelay å‚æ•°ï¼šupdelay=0 å’Œ updelay=200 åŒæ—¶å­˜åœ¨,æœ€ç»ˆç”Ÿæ•ˆçš„æ˜¯æœ€åä¸€ä¸ªï¼Œå³ updelay&#x3D;200ã€‚\nad_select&#x3D;1ï¼šåœ¨æŸäº›ç³»ç»Ÿç‰ˆæœ¬ä¸­å¯èƒ½ä¸è¢«æ”¯æŒ\n\nchecké…ç½®å¥½åçš„çŠ¶æ€\n1.ping ç½‘å…³ \n2.&#x2F;proc&#x2F;net&#x2F;bonding&#x2F;bond1\nBonding Mode: IEEE 802.3ad Dynamic link aggregation - æ­£ç¡®ï¼Œæ¨¡å¼ä¸º4ã€‚MII Status: up - ç»‘å®šæ¥å£çŠ¶æ€æ­£å¸¸ã€‚Slave Interface: eth0 å’Œ eth1 éƒ½æ˜¯ upï¼Œé€Ÿåº¦å‡ä¸º 25000 Mbpsï¼Œå…¨åŒå·¥ï¼Œé“¾è·¯å¤±è´¥è®¡æ•°ä¸º0ï¼Œç‰©ç†åœ°å€æ­£ç¡®ã€‚Aggregator ID: ä¸¤ä¸ªæ¥å£çš„ Aggregator ID éƒ½æ˜¯ 1 - è¿™è¡¨ç¤ºä¸¤ä¸ªæ¥å£æˆåŠŸèšåˆåˆ°åŒä¸€ä¸ªèšåˆç»„ä¸­ã€‚Actor/Partner Churn State: å‡ä¸º noneï¼Œè¡¨ç¤ºæ²¡æœ‰å‘ç”Ÿæ‰°åŠ¨ï¼Œè¿æ¥ç¨³å®šã€‚Partner Mac Address: ä¸¤ä¸ªæ¥å£çš„ Partner Mac Address éƒ½æ˜¯ 00:01:00:01:00:01ï¼Œè¿™è¡¨ç¤ºå®ƒä»¬è¿æ¥åˆ°åŒä¸€ä¸ªå¯¹ç«¯è®¾å¤‡ï¼ˆäº¤æ¢æœºï¼‰ã€‚\n\n3.ä½¿ç”¨ ethtool eth0 å’Œ ethtool eth1 å†æ¬¡ç¡®è®¤é“¾è·¯çŠ¶æ€ä¸º Link detected: yes ä¸”é€Ÿç‡ä¸º 25000Mb&#x2F;sã€‚\n","categories":["Linux"],"tags":["nmcli"]}]